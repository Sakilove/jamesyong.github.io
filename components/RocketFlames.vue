<template>
  <svg xmlns="http://www.w3.org/2000/svg" :viewBox="viewBox">
    <g>
      <g>
        <template v-for="(flame, index) in flames">
          <path :key="index" :id="'flame-' + index" :fill="flame.color" :d="flamesD[index]"/>
        </template>
        <path d="M32.2 385.4s-9.3 1.6-15 8c-3.4 3.8-6.3 14.2-7 18.3a108.8 108.8 0 0 0-.8 19.1c.4 5.2 1.8 18.4 1.8 24.8l.4 42.7s-.7 32.3 0 40.2c.6 5.6 0 7.6 2.3 13.1s8 13 9.7 13.9a68 68 0 0 0 28.2 7.5c8.2 0 24-3 29.2-9 6-6.8 10.1-16.9 10.5-19.9a129.7 129.7 0 0 0 0-17.3c-.4-6.3-.1-11.2-.4-15-.4-5.6-1.5-43.8-.4-51.3 1.1-7.1 1.2-14.3 1.5-20s.4-20.2-.7-27-3.4-15-6-19-7.5-6.4-11.6-8a89.8 89.8 0 0 0-22.9-3.7c-4.9 0-18.8 2.6-18.8 2.6z" fill="#e80235"/>
        <path d="M71.6 556.5c.1-.6.3-2 .8-2.3a29.5 29.5 0 0 1 3-1.1c.7-.3 9.8-3.8 10.5-4.2s1.5 0 1 1.5-3 8.7-4.8 11c-1.7 2-6.7 4.4-9.7 4.8s-3-1.1-2.3-3.8a86 86 0 0 0 1.5-6zM31.6 556.5c-.1-.6-.3-2-.8-2.3a31.2 31.2 0 0 0-3.1-1.1c-.8-.3-10.2-3.8-10.9-4.2s-1.5 0-1.1 1.5 3 8.7 5 11c1.7 2 7 4.4 10 4.8s3.2-1.1 2.4-3.8c-.6-2-1.2-4.3-1.5-6z" fill="#0ff"/>
        <path d="M23.7 519c-.3 0-.4.1-.4.3.4 2.5 3 16 3.7 18.4.7 2.6 2.6 11.3 3.4 12.4 1 1.6 13.5 3.4 20.6 3.4a74.2 74.2 0 0 0 16.3-1.7 40.5 40.5 0 0 0 5-1.3c.8-.4.8-.8 1.6-3.8s1.1-6 1.5-8.2c.3-2 1-4.3 1.3-6.2l2.2-12.8c.2-1-.2-1-1-.2-1.2 1.4-6.8 4.7-9.8 6.6a47.3 47.3 0 0 1-9.8 4.5c-3 1-11 1.2-15.4-.8a160.4 160.4 0 0 1-15-7.8c-2-1.4-3.5-2.8-4.2-2.8z" fill="#34302c"/>
        <path d="M23.2 518.2l-4-5.6a44.4 44.4 0 0 1-2.3-4.2 5.2 5.2 0 0 1-.4-3.7 21.5 21.5 0 0 0 .4-4.5c0-.8-.4-2.6-.4-4.5l-.4-19.1c0-2.6 0-11.5.4-13.5.4-2.3 0-3.4 2.2-5.7a11.4 11.4 0 0 0 2.7-7.1v-4.1a2.5 2.5 0 0 1 2.2-2.2c2.7-.2 49.1-.4 51.4-.4s4.5 0 5.2 1.5.4 3.4.8 6 .4 4.5 1.9 5.6c1.9 1.5 2.2 3.4 2.6 5.7a46.9 46.9 0 0 1 .8 7.5V493c0 2-.4 4.5-.4 6a21.8 21.8 0 0 0 .7 6c.4 1.2-.7 3-1.5 4.2s-2.6 4.5-4.1 6.3a40.3 40.3 0 0 1-3.4 4.2c-2.6 2.6-10.9 7.9-17.2 10.1s-13.5 1.1-16.5.4-13.2-6.8-14.7-7.5a66.3 66.3 0 0 1-6-4.6z" fill="#010101"/>
        <path d="M32.6 396.3c1.5-.7 8.3-2.6 17.6-2.6a68.7 68.7 0 0 1 16.3 1.7c2.7.7 4 2 4 1s-.6-5.5-.6-7.4-.2-3.2-.2-3.5-6.6-1.7-9.6-2a55.7 55.7 0 0 0-12.1-.7c-4.7.4-12.3 1.6-13.9 2.3s-2.2.3-2.2 2.2-.6 5.5-.6 7-.2 2.8.6 2.4z" fill="#25231f"/>
        <path d="M19.5 504.3l1.9-5.6c.7-1.9 1.1-3 3.5-3.2 2.6-.2 9.2 0 11.5.2 3.2.2 24.3 0 27 0s12.7-.8 14.2-.4c2.5.6 3.8 3 4.9 5.3 1 2 3.4 7.1 2.3 9.3a67.2 67.2 0 0 1-5.9 8.4c-2.4 2.9-11 8.5-15.5 10.4s-14 4.3-21.5.8c-7-3.4-16-8.3-18.3-11s-5.2-7-5.2-7.8a28.3 28.3 0 0 1 1-6.4z" fill="none"/>
        <path d="M21.7 502.8a1.9 1.9 0 0 1 1.6-1h6.3c1.3.1 1.7.6 1.8 1.4s.3 1.2 2 1.1 4.4.3 7.5.4c1.4 0 14.5 1.2 16.8-.2 4-2.7 9.5-2.3 13.8-1a23 23 0 0 0 8.5.6c1.2 0 3.4 1.2 3.6 2a7 7 0 0 1-.6 3.9 52.2 52.2 0 0 1-9.4 10.7c-3.8 3-12.3 7.2-16 7.7-4.7.8-9.9 1-14.3-.7a72.5 72.5 0 0 1-12-6.7 38 38 0 0 1-7.8-6 11.8 11.8 0 0 1-2.8-3.4c-1.6-2.5-1-3.2-.6-5a16.5 16.5 0 0 1 1.6-3.8z" fill="#1e2321"/>
        <path d="M45.9 504.8a1.3 1.3 0 0 0-.6.9 15.1 15.1 0 0 0 1.6 5 1.6 1.6 0 0 0 2.6.4c1-1.5 1.4-4.6 1.5-5.4a1 1 0 0 0-.5-1 3.5 3.5 0 0 0-2.3-.6 3.7 3.7 0 0 0-2.3.7zM52 504.8a1.3 1.3 0 0 0-.5.9 15.1 15.1 0 0 0 1.5 5 1.6 1.6 0 0 0 2.7.4c1-1.5 1.3-4.6 1.4-5.4a1 1 0 0 0-.5-1 3.5 3.5 0 0 0-2.3-.6 3.7 3.7 0 0 0-2.3.7zM24.5 503.5a1.3 1.3 0 0 0-.6 1 15.1 15.1 0 0 0 1.5 5 1.6 1.6 0 0 0 2.7.3c1-1.5 1.3-4.5 1.4-5.3a1 1 0 0 0-.4-1.1 3.5 3.5 0 0 0-2.4-.6 3.7 3.7 0 0 0-2.2.7zM73.4 503.5a1.3 1.3 0 0 0-.5 1 15.1 15.1 0 0 0 1.5 5 1.6 1.6 0 0 0 2.6.3c1-1.5 1.4-4.5 1.5-5.3a1 1 0 0 0-.5-1.1 3.5 3.5 0 0 0-2.3-.6 3.7 3.7 0 0 0-2.3.7zM58.6 502.8c-.7 1.4.4 4 .8 5a10.7 10.7 0 0 0 2.2 3.4 3.8 3.8 0 0 0 3.1 1.5c1.3 0 2.2-.8 3.1-1.8a12.2 12.2 0 0 0 2.3-4.7 14.3 14.3 0 0 0 .3-3.2c0-.7-.5-2-2.8-2-1.5 0-2.4 1-3.1 1s-2.5-.8-3.6-.7a2.4 2.4 0 0 0-2.3 1.5z" fill="#343a35"/>
        <path d="M37.6 542.6A101.2 101.2 0 0 0 51 544a58 58 0 0 0 12.5-1.2l8.5-2.4c1.9-.6 2-1 2.1 0s-1.6 1.6-2.1 1.8l-5.1 1.4a72.8 72.8 0 0 1-15.3 1.9 71.4 71.4 0 0 1-15-1.6l-6.5-1.5c-1.3-.4-1.2-1-1.5-2.1-.3-1.4 6.4 1.8 8.9 2.3z" fill="#020203"/>
        <path d="M29.7 545.2c0-.6 0-1 .6-1l7.4 1.7a70 70 0 0 0 8.6 1.1 92.5 92.5 0 0 0 12-.2c3.9-.4 8.4-1.5 10.6-2s3.8-1.2 4.2-.5-.2 1.3-.5 1.6-.7.4-2.3.9a103.3 103.3 0 0 1-10.4 2.2 103.3 103.3 0 0 1-15.2.3 48.4 48.4 0 0 1-10-1.7c-2.2-.7-3.6-.8-4.2-1.3s-.8-1-.8-1.1z"/>
        <path d="M30.7 548.4c-.2-.4 0-1.2 1-.8a48.5 48.5 0 0 0 4.6 1.7 66 66 0 0 0 7.6 1.3 76 76 0 0 0 9.6.3 99 99 0 0 0 11.4-1.3 42.6 42.6 0 0 0 5.3-1.4c1.4-.4 2.5-1 2.5-.5a5.3 5.3 0 0 1-.3 1.8c-.2.7-.3 1-1.4 1.4-1.3.4-8.5 1.8-10.7 2a96 96 0 0 1-14.1.3 115 115 0 0 1-12.4-1.8c-.8-.3-2-.5-2.2-1.2a19.2 19.2 0 0 0-1-1.8z" fill="#010101"/>
        <path d="M85.8 499.9c0-.6 0-.8.6-.5a5.5 5.5 0 0 0 2.5.8c1.2-.2 1.7-.3 2-.8s1.7.6 2.2.5a2.6 2.6 0 0 0 1.3-1.5c.3-.6 1-1 2.7-1.8s2.4-1 3-1.2a.8.8 0 0 1 1 1c-.3.7-1.1 1.2-2 2.2a12.4 12.4 0 0 1-3.9 2.7c-1.5.6-1.2.8-2.7.9a18.4 18.4 0 0 1-5.9-.5c-.5-.2-.7-1.2-.8-1.8zM16.8 500.5c0-.6 0-.8-.6-.5a5.7 5.7 0 0 1-2.6.7c-1.2-.1-1.7-.2-2-.7s-1.7.6-2.3.4A2.6 2.6 0 0 1 8 499c-.3-.6-1-1-2.8-1.8l-3-1.2a.8.8 0 0 0-1 1c.3.6 1.1 1.2 2.1 2.1a12.8 12.8 0 0 0 4 2.8c1.5.6 1.2.8 2.7.9a19.2 19.2 0 0 0 6-.6c.6-.1.8-1.2.8-1.7z" fill="#e80235"/>
        <path d="M86.4 442.7a1.3 1.3 0 0 1 0-.4c0-1.1.2-1.3 1.4-2s1.8-1.5 2.1-.6.2 1.5-.2 3-.7 2.5-1.7 2.5-1.5-2-1.6-2.5z" fill="#030101"/>
        <path d="M15.4 443.2a1.3 1.3 0 0 0 0-.4c-.1-1.1-.2-1.2-1.4-1.9s-1.8-1.6-2.2-.7-.2 1.6.3 3 .7 2.5 1.7 2.5 1.5-1.9 1.6-2.5z" fill="#060000"/>
        <path d="M20 455c.2-2 0-4.3 0-6.8l.9-8.3c.3-2.7.4-5.6 1.3-10.2s2-11 2.5-14.5 3.1-13.6 3.2-14.2-7.6 23.8-8.2 26.3-2.7 13.6-2.9 15.5-.6 14.8-1 17a39.4 39.4 0 0 0-.8 6.7c.6-1 1.1-5.2 2-7 .5-1.2 2.4-2.7 2.6-3.1l.4-1.4z" fill="#5d001a"/>
        <path d="M81.7 454v-6.7l-.9-8.4c-.3-2.7-.4-5.5-1.2-10.2L77 414.3c-.6-3.4-3-13.7-3.1-14.2s7.5 23.7 8 26.3 2.7 13.6 2.8 15.5.7 14.7 1.1 17a40.2 40.2 0 0 1 .8 6.7c-.6-1-1.1-5.2-2-7-.5-1.2-2.3-2.7-2.5-3.2l-.5-1.3z" fill="#510016"/>
        <path d="M29.3 443.6a84.3 84.3 0 0 0-.3-9.1 96.3 96.3 0 0 1 .2-16c.4-4.6 2-15.2 2.5-18.9.2-1.5.6-2.5 0-1.8s-4.8 17.7-5.1 21.6-2 15.9-2.1 18.4-.7 5.5-.2 6.1 5-.3 5-.3zM72.5 443.3c-.1-1.8.2-7.5.3-9.1a111.1 111.1 0 0 0-.2-16c-.3-4.6-1.7-15.2-2.1-18.8-.2-1.5-.6-2.5 0-1.8s4.2 17.6 4.4 21.6 1.7 15.8 1.8 18.4.7 5.5.2 6-4.4-.3-4.4-.3z" fill="#5d001a"/>
        <path d="M50.6 568a2.8 2.8 0 0 1 1.7 0c.3.1.5.3.2 1-.6 1.2-1.1 1-1.6.6a2.7 2.7 0 0 1-.6-1c-.1-.4.3-.6.3-.6z" fill="#d9e021"/>
        <path d="M21.5 446.7a21.6 21.6 0 0 0 0 3.7c.2 1-.1 2.1 1 1.5s3.9-1 7.3-1.5c5.8-.9 34.5-.8 40-.3 1.8.2 6.9.4 8.4 1s2 1 2.3.4a10 10 0 0 0 .2-3.3c-.2-1.4-.3-3.4-1.3-4s-3.1-.3-5.3-.3l-46 .1c-1.6.1-4.8-.3-5.7.4a3.7 3.7 0 0 0-.9 2.3z" fill="#322d2a"/>
        <path d="M29.2 459.2c1.2-.9 2.9-1.3 2.8-2.3s.2-2.1.9-2.2 3.4 0 4.9 0 2.8-.2 3 .8.2 1.5 1 1.9a8.3 8.3 0 0 0 2.4 1c1.2.4 3.8 1 4.6 2.6s.2 3 .1 4.8c-.2 2.7.2 6.7 0 8.5s-.3 4.6-.2 7.1-1.1 8.1-2.4 9.5c-.4.4-15 .5-15.8-.3s-1.6-5.1-1.9-7.3c-.2-1.7 0-4.8-.2-6.5l-.8-8.8-.6-5.4c-.3-2.2 1-2.5 2.2-3.4z" fill="#242723"/>
        <path d="M32.5 460.2a1.7 1.7 0 0 1 1-1.1 5.4 5.4 0 0 1 3-.4c2 0 3.4-.2 4.3.1 1.2.4 1.6.5 2.5 2.3s2.2 3.6 1.6 4.2a34.1 34.1 0 0 0-2.4 3c-.8 1.2-.6 1.8-2.2 2s-3.5.2-4.4-.5-2.4-2.4-3.3-3.1-1.5-.8-1.1-2.2l1-3.9z" fill="#ec0139"/>
        <path d="M71.4 459.2c-1.1-.9-2.8-1.3-2.8-2.3s-.1-2.1-.8-2.2-3.3 0-4.8 0-2.8-.2-3 .8-.2 1.5-1 1.9a8.2 8.2 0 0 1-2.3 1c-1.3.4-3.8 1-4.6 2.6s-.2 3-.1 4.8c.2 2.7-.2 6.7 0 8.5s.2 4.6.2 7.1 1 8.1 2.4 9.5c.4.4 14.8.5 15.5-.3s1.6-5.1 2-7.3c.2-1.7 0-4.8.1-6.5.3-2.1.6-6.8.8-8.8l.6-5.4c.3-2.2-1-2.5-2.2-3.4z" fill="#242723"/>
        <path d="M68 459.8a1.7 1.7 0 0 0-1-1.1 5.3 5.3 0 0 0-2.8-.4c-2.1 0-3.4-.2-4.3.1-1.2.4-1.6.5-2.4 2.3s-2.2 3.6-1.7 4.2a34 34 0 0 1 2.4 3c.8 1.2.6 1.8 2.2 2s3.4.2 4.3-.5 2.4-2.4 3.3-3.2 1.5-.7 1-2-.7-3.2-1-4zM31.3 487.8a1 1 0 0 1 .6-1.1 6.7 6.7 0 0 0 2.4-1.2c.7-.6.6-.9 1.5-1.8s1.2-1.3 2.2-1.3c1.6-.1 3.2-.2 3.7.4a23.1 23.1 0 0 1 1.6 2.2c.5.6.3.8 2.2 1.4 1.1.5 1.5.8 1.3 1.7l-.5 2a1.3 1.3 0 0 1-1.3.9c-.8 0-11.8.3-12.5-.5a6.8 6.8 0 0 1-1.1-2.5l-.1-.2z" fill="#ec0139"/>
        <path d="M60 457.7c-.5 3.5 1.6 6.6 3.4 8.6s5.3 3 7.7-.6c2-3.2 3-5.7 2.3-9-.9-3.6-3.2-5.9-6.7-5.9s-6 3-6.7 6.9z" fill="#fffbfd"/>
        <path d="M61 457.4c.7 1.4 3.7 2.8 6.2 2.8 2.3-.1 5.7-2.8 5.7-2.8 0 1.2 0 4.4-.7 5.6-1 1.7-2.7 3.9-5.3 3.9-3.4 0-5.2-3.3-5.5-4.7a23.9 23.9 0 0 1-.4-4.8z" fill="#0ff"/>
        <path d="M73.5 465.3c2.2.6 5.5-1 8.9 1.6s3.4 4 4.3 8 1.3 3.8 1.3 8c0 4-2 6.8-1.8 8.8s1.8 3.3-1 5.5c-1.3 1-3.8 2.5-3.2-3.7a87.6 87.6 0 0 0 .7-10.6c0-1.8.8-2.6-.5-5.4s-1.3-2.7-4.4-4c-1.4-.6 0 5.2.2 6.8a36 36 0 0 1 .3 5.6c0 5.7-.3 6.8-1 8.3-.5.8-5.3 1.1-8.7 1.1-4.1 0-9 1.1-10.9.4-2.5-1-1.1-8.3-.7-13.5.3-5.5 1.4-12.3 1.4-14.4s.4-2.4 1.2-2.1a34.7 34.7 0 0 0 3.6 2c2.4 1 5.4 1.4 6.9.2l3.4-2.6z" fill="#fffbfd"/>
        <path d="M59.3 471.6c.2-1.5-1.8-5-3.1-5-2.9 0-4 3-4.7 4.6a22.3 22.3 0 0 0-1.2 9.7c.3 2.7 0 3.8 2.2 6.7 2.3 3.2 9.4 6.8 10.4 9a5.7 5.7 0 0 0 4.6 3.4c2.1.1 2.8-.2 1.9-3s-2.8-3.7-6.6-6c-2.4-1.4-2.4-3.3-4.5-6.3s-1.3-3.9-.6-5.6a55.9 55.9 0 0 0 1.6-7.6z" fill="#e6e6e6"/>
        <path d="M16.9 499.8c1-1.9 1.9-2.3 2.6-3.7s1.1-3 1.9-4.5c.6-1.2 1.1-1.9 4.1-1.5s11.6 1.1 14.2 1.1h23.7c4.5 0 12.3-.7 14.6-.4 2.5.4 3 1.2 4.1 3a68.6 68.6 0 0 1 4.1 9.8c.4 1.5.7 1.8.4 2.8s-1.2 3-1.5 2.4-.7-4.1-1.1-5.2-1.9-3.8-2.6-5.3a5 5 0 0 0-3.4-3c-2-.5-7.9.3-10.1.4-5.7.4-34.5 0-39.4-.4-1.5 0-5.3-.4-6 1.2a38.5 38.5 0 0 0-2.4 5.8c-.4 1.6-1.4 6.5-1.8 7.7s-1-.5-1.5-2a5 5 0 0 1-.3-3.7 17.2 17.2 0 0 0 .3-3.7z" fill="#110f0d"/>
        <circle cx="29.1" cy="514.2" r="3.3" fill="#060b0c"/>
        <circle cx="73.6" cy="514.2" r="3.3" fill="#060b0c"/>
        <path d="M79 466l-.1 2.1a.8.8 0 0 0 .2.7 9.3 9.3 0 0 0 1.4 1.1l2.3 1.4c.3.1.7.5 1.2-.7a4 4 0 0 0 .2-1.8 19.3 19.3 0 0 0-2.8-2.2 5.2 5.2 0 0 0-2.4-.7zM53.3 469.3l1.3 1.8a.9.9 0 0 1 .1.7 8.6 8.6 0 0 1-.5 1.6l-1 2.3c0 .3-.2.7-1.2 0a4.4 4.4 0 0 1-1.1-1.5 17.7 17.7 0 0 1 1-3.3 4.3 4.3 0 0 1 1.4-1.6zM74 465.6s0-1.2.5-1a2.1 2.1 0 0 1 1.2.3c.1.3-1.4 13.7-2 16.2-.6 2.4-.7 6.9-1.5 8s0 1.9-1.2 1.8-1.5 0-1.7-.2 1.5-2.4 1.7-4.9 1.3-8.4 1.5-10.3l1.5-9.9zM62.1 468.9s-.3-2.5-.7-2.4-1.7-.7-1.8-.5 1 4.2 1.1 6.4 2.5 15 3.2 16.1.4 2.8 1.3 2.7 2 .2 2.2 0-1.4-3.8-2.1-6.2a65.3 65.3 0 0 1-1.7-8.6A102 102 0 0 0 62 469z" fill="#afb4b8"/>
        <ellipse cx="26.7" cy="503.7" rx="2.5" ry=".9" fill="#999"/>
        <ellipse cx="48.1" cy="504.9" rx="2.5" ry=".9" fill="#999"/>
        <ellipse cx="54.3" cy="504.9" rx="2.5" ry=".9" fill="#999"/>
        <ellipse cx="75.7" cy="503.9" rx="2.5" ry=".9" fill="#999"/>
        <ellipse cx="81.1" cy="556.9" rx="1.1" ry=".7" fill="#fff"/>
        <ellipse cx="77.6" cy="558" rx=".9" ry=".7" fill="#fff"/>
        <ellipse cx="74.7" cy="559.3" rx=".9" ry=".6" fill="#fff"/>
        <path d="M72.4 554.1l11.1-4.2s3-1.5 3.3-1.1c.8.6 0 2.4-.4 3.9s-1.3 1.5-1.7 1.9a25.5 25.5 0 0 1-4.7 2.3c-2.6 1.1-4.8 2.2-7 3.3-2 1-2.6 1.6-2.2 0l1-4.8c.1-.3.3-1.2.6-1.3z" fill="#2e3192"/>
        <ellipse cx="21.9" cy="556.9" rx="1.1" ry=".7" fill="#fff"/>
        <ellipse cx="25.5" cy="558" rx=".9" ry=".7" fill="#fff"/>
        <ellipse cx="28.4" cy="559.3" rx=".9" ry=".6" fill="#fff"/>
        <path d="M30.6 554.1L19.3 550s-3-1.5-3.3-1.1c-.8.6 0 2.4.4 3.9s1.3 1.5 1.7 1.9a26.3 26.3 0 0 0 4.8 2.3c2.7 1.1 5 2.3 7.2 3.3 2.1 1 2.7 1.9 2.6.2a35.1 35.1 0 0 0-1.2-5c-.1-.3-.2-1-.8-1.3z" fill="#2e3192"/>
        <path fill="none" d="M.2 499.9h100v499H.2z"/>

      </g>
    </g>
  </svg>
</template>

<script type="text/ecmascript-6">
  import Scrollbar from 'smooth-scrollbar'
  import BezierEasing from 'bezier-easing'
  export default {
    props: {
      scrollOffset: {
        default: 0,
        type: Number
      },
      progress: {
        default: 0,
        type: Number
      }
    },

    data () {
      return {
        scrollBar: {},
        ease: null,
        easingMaps: [],
        viewBox: `0 0 100 1000`,
        width: 100,
        height: 1000,
        centerOffset: 80,
        drawingHeight: 0,
        drawingWidth: 0,
        animeLength: 200,
        animeStartLength: 200,
        animeEndLength: 200,
        flamesD: ['', '', '', '', '', ''],
        flames: [
          {
            ratio: 1,
            width: 0,
            unitWidth: 0,
            startPoint: {},
            color: '#008ba2',
            flames: [
              {max: 0.84, min: 0.6},
              {max: 0.65, min: 0.52},
              {max: 0.55, min: 0.98},
              {max: 0.45, min: 0.52},
              {max: 1, min: 0.65},
              {max: 0.65, min: 0.52},
              {max: 0.6, min: 0.89}
            ]
          },
          {
            ratio: 0.8,
            width: 0,
            unitWidth: 0,
            startPoint: {},
            color: '#0bc6d0',
            flames: [
              {max: 0.32, min: 0.53},
              {max: 0.30, min: 0.30},
              {max: 0.56, min: 0.32},
              {max: 0.34, min: 0.38},
              {max: 0.35, min: 0.62},
              {max: 0.40, min: 0.40},
              {max: 0.61, min: 0.35}
            ]
          },
          {
            ratio: 0.7,
            width: 0,
            unitWidth: 0,
            startPoint: {},
            color: '#1ae6de',
            flames: [
              {max: 0.35, min: 0.25},
              {max: 0.21, min: 0.30},
              {max: 0.25, min: 0.25},
              {max: 0.30, min: 0.21},
              {max: 0.28, min: 0.38}
            ]
          },
          {
            ratio: 0.5,
            width: 0,
            unitWidth: 0,
            startPoint: {},
            color: '#e9f8f3',
            flames: [
              {max: 0.06, min: 0.17},
              {max: 0.04, min: 0.06},
              {max: 0.17, min: 0.06}
            ]
          }
        ]

      }
    },
    computed: {
    },
    watch: {
      scrollOffset (val) {
        const scrollOffset = val
        if (this.ease !== null) {
          const centerOffsetP = Math.abs((this.progress - 0.5) / 0.5)
          const easedCP = this.easingMaps[Math.round(centerOffsetP * 100)]
          const cp = 1 - easedCP
          this.flames.forEach((f, index) => {
            const startX = f.startPoint.x
            const startY = f.startPoint.y
            const width = f.width
            let d = `M${startX},${startY}`
            const unitWidth = f.unitWidth
            let dir = 1
            f.flames.forEach((v, i) => {
              const progress = (scrollOffset % this.animeLength) / this.animeLength
              const y1 = startY - (v.max - (v.max - v.min) * Math.abs(progress - 0.5) / 0.5) * cp
              const x1 = startX + unitWidth * i
              const cx1 = x1
              const cy1 = y1 - unitWidth * dir
              const x2 = x1 + unitWidth
              const y2 = y1
              const cx2 = x2
              const cy2 = cy1
              d += ` L${x1.toFixed(2)},${y1.toFixed(2)} C${cx1.toFixed(2)},${cy1.toFixed(2)} ${cx2.toFixed(2)},${cy2.toFixed(2)} ${x2.toFixed(2)},${y2.toFixed(2)}`
              dir = -dir
            })
            d += ` L${(startX + width).toFixed(2)},${startY.toFixed(2)} C${(startX + width).toFixed(2)},${(startY + width).toFixed(2)} ${startX.toFixed(2)},${(startY + width).toFixed(2)} ${startX.toFixed(2)},${startY.toFixed(2)}Z`
            // console.log(startX, width, unitWidth)
            document.getElementById('flame-' + index).setAttribute('d', d)
            document.getElementById('flame-' + index).style.opacity = cp.toFixed(2)
          })
        }
      }
    },
    mounted () {
      this.init()
    },
    beforeDestroy () {
      // console.log('rocketflameGGGGGGGGGGGGGGGGGGGGGGGGGGGG')
      // this.scrollBar.removeListener(this.updatePath)
    },
    methods: {
      init () {
//        let ssr = Scrollbar.get(document.querySelector('#smooth-scrollbar'))
//        if (!ssr) {
//          ssr = Scrollbar.init(document.querySelector('#smooth-scrollbar'), this.scrollBarOptions)
//        }
//        this.scrollBar = ssr
        this.ease = BezierEasing(0.16, 0.90, 0.86, 0.1)
        let easingMaps = []
        for (let i = 0; i < 101; i++) {
          easingMaps.push(this.ease(i / 100))
        }
        this.easingMaps = easingMaps
//        ssr.addListener(this.updatePath)

        this.drawingHeight = this.height / 2 - this.centerOffset
        this.drawingWidth = this.width
        const that = this
        this.flames.forEach(v => {
          v.width = that.drawingWidth * v.ratio
          v.unitWidth = v.width / v.flames.length
          v.startPoint = {x: (that.drawingWidth - v.width) / 2, y: that.drawingHeight - that.drawingWidth / 2}
          v.flames.forEach(v => {
            v.max = v.max * (that.drawingHeight - that.drawingWidth / 2)
            v.min = v.min * (that.drawingHeight - that.drawingWidth / 2)
          })
        })
      }
    }
  }
</script>

<style lang="scss">



</style>
